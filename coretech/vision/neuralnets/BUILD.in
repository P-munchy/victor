cxx_project(
    name = 'vic-neuralnets',
    srcs = [
      "neuralNetModel_interface.cpp", 
      "neuralNetModel_tensorflow.cpp", 
      "neuralNetModel_tflite.cpp",
      "neuralNetParams.cpp", 
      "vicNeuralNetsMain.cpp"
    ],
    platform_srcs = [
    ],
    headers = [
      "neuralNetModel_interface.h", 
      "neuralNetModel_tensorflow.h", 
      "neuralNetModel_tflite.h", 
      "neuralNetParams.h"
    ],
    platform_headers = [
    ]
)

# Duplicate source list with target name for building webots controller on Mac
cxx_project(
    name = 'webotsCtrlNeuralNets',
    srcs = [
      "neuralNetModel_interface.cpp", 
      "neuralNetModel_tensorflow.cpp",
      "neuralNetModel_tflite.cpp",
      "neuralNetParams.cpp", 
      "vicNeuralNetsMain.cpp"
    ],
    platform_srcs = [
    ],
    headers = [
      "neuralNetModel_interface.h", 
      "neuralNetModel_tensorflow.h", 
      "neuralNetModel_tflite.h",
      "neuralNetParams.h"
    ],
    platform_headers = [
    ]
)

# Neural Net unit tests
cxx_project(
    name = 'cti_neuralnet_test',
    srcs = [
      "neuralNetModel_interface.cpp", 
      "neuralNetModel_tensorflow.cpp",
      "neuralNetModel_tflite.cpp",
      "neuralNetParams.cpp", 
      "testNeuralNets.cpp"
    ],
    platform_srcs = [
    ],
    data = glob([
      "test/**/*.json"
    ]),
    headers = [
      "neuralNetModel_interface.h", 
      "neuralNetModel_tensorflow.h", 
      "neuralNetModel_tflite.h",
      "neuralNetParams.h"
    ],
    platform_headers = [
    ]
)
