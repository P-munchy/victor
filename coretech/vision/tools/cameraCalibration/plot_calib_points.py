import cv2
import numpy as np
import sys
import os

import matplotlib.pyplot as plt

from mpl_toolkits.mplot3d import Axes3D

image = cv2.imread(str(sys.argv[1]),0)

pts = np.array([
(536.951416,310.802032), (542.886475,263.440674), (494.373688,300.016846), (497.957581,255.157364),
(592.230164,254.729126), (583.374451,298.834595), (641.826721,264.365417), (630.583252,310.350433),
(677.915894,254.888931), (666.661560,298.029083), (727.644104,265.069458), (714.712769,309.452606),
(455.401672,265.602692), (451.913269,312.628815), (483.352936,255.568756), (479.787872,300.163849),
(351.692932,267.151276), (354.372314,314.352997), (388.489960,257.448975), (388.884857,302.190247),
(439.691193,313.115417), (440.583008,265.964294), (404.336487,302.665894), (403.130646,257.745300),
(249.854813,268.885132), (256.193146,315.707214), (293.276855,258.886322), (298.370239,303.809662),
(308.090149,259.656921), (312.704651,304.142944), (338.088715,268.677155), (341.121643,315.712128),
(149.839386,272.091858), (161.510742,318.370026), (198.964035,261.097504), (208.440781,305.355194),
(61.599113,276.166412), (75.595932,320.836365), (111.130974,264.512207), (123.197556,307.565338),
(685.987244,392.875732), (699.574280,349.317657), (636.191345,376.191315), (647.275818,334.470001),
(511.886993,354.343628), (506.867340,397.759552), (536.896057,336.580414), (531.508240,377.674286),
(552.117065,336.438568), (545.732971,378.441711), (602.383667,351.554413), (592.986755,395.563202),
(406.304260,356.128418), (406.033173,399.942688), (439.008179,338.623322), (437.249603,380.657928),
(454.396820,337.685669), (452.439423,379.832642), (497.333923,353.189514), (493.085144,397.829987),
(297.437469,355.920197), (302.469208,400.645569), (339.529114,339.273834), (342.604401,381.828979),
(355.786163,340.386658), (358.229797,382.225616), (390.323029,356.602417), (391.502899,400.764435),
(192.529999,359.365082), (203.507614,402.909668), (241.246307,341.671509), (249.737579,383.517212),
(256.493011,341.022461), (264.798401,383.276947), (282.515137,356.422607), (288.933563,401.477539),
(94.260910,360.235931), (108.736565,403.366608), (146.127808,343.701538), (157.834671,385.391418),
(608.727051,420.847412), (598.297913,459.397125), (661.412842,441.921021), (647.705139,481.926636),
(509.175598,423.780853), (503.676666,462.152222), (557.966919,447.345490), (549.231995,487.145691),
(464.152954,450.167053), (460.326080,490.111450), (493.087524,424.647186), (489.393127,463.460388),
(407.269379,426.523254), (406.990631,464.929688), (447.685455,451.268311), (445.298340,491.348022),
(352.302887,452.768066), (354.964355,492.505859), (390.570312,426.561951), (391.231720,465.498688),
(137.256531,453.032379), (151.197006,492.278168), (189.505005,430.338135), (199.913620,468.539764),
(240.513031,454.177856), (250.304092,493.927917), (287.754486,428.208618), (294.498230,467.060303),
(304.375885,428.720398), (309.937592,467.324829), (335.763947,452.404541), (340.206451,493.486481),
(565.529846,513.070190), (556.901184,547.373901), (617.286133,540.989990), (604.413269,575.137207),
(410.001404,552.579590), (410.259125,586.261963), (445.469940,518.572815), (443.197357,552.942627),
(463.301453,518.379028), (460.173859,552.667725), (509.653076,550.296326), (503.231232,584.121887),
(296.194031,554.080200), (302.196503,588.241882), (340.149475,521.345947), (343.421204,555.726013),
(355.400513,520.713501), (358.499115,555.067200), (393.080353,553.197510), (394.379150,587.433228),
(185.381073,551.717773), (198.882523,585.026245), (235.456375,521.361938), (244.748169,555.241638),
],np.float32)

world_pts = np.array([
[(90.000000, -33.000000, 67.000000), (90.000000, -33.000000, 53.000000), (90.000000, -47.000000, 67.000000), (90.000000, -47.000000, 53.000000)],
[(110.000000, -53.000000, 67.000000), (110.000000, -53.000000, 53.000000), (110.000000, -67.000000, 67.000000), (110.000000, -67.000000, 53.000000)],
[(130.000000, -73.000000, 67.000000), (130.000000, -73.000000, 53.000000), (130.000000, -87.000000, 67.000000), (130.000000, -87.000000, 53.000000)],
[(73.000000, -30.000000, 67.000000), (73.000000, -30.000000, 53.000000), (87.000000, -30.000000, 67.000000), (87.000000, -30.000000, 53.000000)],
[(53.000000, -10.000000, 67.000000), (53.000000, -10.000000, 53.000000), (67.000000, -10.000000, 67.000000), (67.000000, -10.000000, 53.000000)],
[(70.000000, -13.000000, 67.000000), (70.000000, -13.000000, 53.000000), (70.000000, -27.000000, 67.000000), (70.000000, -27.000000, 53.000000)],
[(33.000000, 10.000000, 67.000000), (33.000000, 10.000000, 53.000000), (47.000000, 10.000000, 67.000000), (47.000000, 10.000000, 53.000000)],
[(50.000000, 7.000000, 67.000000), (50.000000, 7.000000, 53.000000), (50.000000, -7.000000, 67.000000), (50.000000, -7.000000, 53.000000)],
[(13.000000, 30.000000, 67.000000), (13.000000, 30.000000, 53.000000), (27.000000, 30.000000, 67.000000), (27.000000, 30.000000, 53.000000)],
[(-7.000000, 50.000000, 67.000000), (-7.000000, 50.000000, 53.000000), (7.000000, 50.000000, 67.000000), (7.000000, 50.000000, 53.000000)],
[(110.000000, -73.000000, 47.000000), (110.000000, -73.000000, 33.000000), (110.000000, -87.000000, 47.000000), (110.000000, -87.000000, 33.000000)],
[(73.000000, -50.000000, 47.000000), (73.000000, -50.000000, 33.000000), (87.000000, -50.000000, 47.000000), (87.000000, -50.000000, 33.000000)],
[(90.000000, -53.000000, 47.000000), (90.000000, -53.000000, 33.000000), (90.000000, -67.000000, 47.000000), (90.000000, -67.000000, 33.000000)],
[(53.000000, -30.000000, 47.000000), (53.000000, -30.000000, 33.000000), (67.000000, -30.000000, 47.000000), (67.000000, -30.000000, 33.000000)],
[(70.000000, -33.000000, 47.000000), (70.000000, -33.000000, 33.000000), (70.000000, -47.000000, 47.000000), (70.000000, -47.000000, 33.000000)],
[(33.000000, -10.000000, 47.000000), (33.000000, -10.000000, 33.000000), (47.000000, -10.000000, 47.000000), (47.000000, -10.000000, 33.000000)],
[(50.000000, -13.000000, 47.000000), (50.000000, -13.000000, 33.000000), (50.000000, -27.000000, 47.000000), (50.000000, -27.000000, 33.000000)],
[(13.000000, 10.000000, 47.000000), (13.000000, 10.000000, 33.000000), (27.000000, 10.000000, 47.000000), (27.000000, 10.000000, 33.000000)],
[(30.000000, 7.000000, 47.000000), (30.000000, 7.000000, 33.000000), (30.000000, -7.000000, 47.000000), (30.000000, -7.000000, 33.000000)],
[(-7.000000, 30.000000, 47.000000), (-7.000000, 30.000000, 33.000000), (7.000000, 30.000000, 47.000000), (7.000000, 30.000000, 33.000000)],
[(90.000000, -73.000000, 27.000000), (90.000000, -73.000000, 13.000000), (90.000000, -87.000000, 27.000000), (90.000000, -87.000000, 13.000000)],
[(70.000000, -53.000000, 27.000000), (70.000000, -53.000000, 13.000000), (70.000000, -67.000000, 27.000000), (70.000000, -67.000000, 13.000000)],
[(53.000000, -50.000000, 27.000000), (53.000000, -50.000000, 13.000000), (67.000000, -50.000000, 27.000000), (67.000000, -50.000000, 13.000000)],
[(50.000000, -33.000000, 27.000000), (50.000000, -33.000000, 13.000000), (50.000000, -47.000000, 27.000000), (50.000000, -47.000000, 13.000000)],
[(33.000000, -30.000000, 27.000000), (33.000000, -30.000000, 13.000000), (47.000000, -30.000000, 27.000000), (47.000000, -30.000000, 13.000000)],
[(-7.000000, 10.000000, 27.000000), (-7.000000, 10.000000, 13.000000), (7.000000, 10.000000, 27.000000), (7.000000, 10.000000, 13.000000)],
[(13.000000, -10.000000, 27.000000), (13.000000, -10.000000, 13.000000), (27.000000, -10.000000, 27.000000), (27.000000, -10.000000, 13.000000)],
[(30.000000, -13.000000, 27.000000), (30.000000, -13.000000, 13.000000), (30.000000, -27.000000, 27.000000), (30.000000, -27.000000, 13.000000)],
[(70.000000, -73.000000, 7.000000), (70.000000, -73.000000, -7.000000), (70.000000, -87.000000, 7.000000), (70.000000, -87.000000, -7.000000)],
[(33.000000, -50.000000, 7.000000), (33.000000, -50.000000, -7.000000), (47.000000, -50.000000, 7.000000), (47.000000, -50.000000, -7.000000)],
[(50.000000, -53.000000, 7.000000), (50.000000, -53.000000, -7.000000), (50.000000, -67.000000, 7.000000), (50.000000, -67.000000, -7.000000)],
[(13.000000, -30.000000, 7.000000), (13.000000, -30.000000, -7.000000), (27.000000, -30.000000, 7.000000), (27.000000, -30.000000, -7.000000)],
[(30.000000, -33.000000, 7.000000), (30.000000, -33.000000, -7.000000), (30.000000, -47.000000, 7.000000), (30.000000, -47.000000, -7.000000)],
[(-7.000000, -10.000000, 7.000000), (-7.000000, -10.000000, -7.000000), (7.000000, -10.000000, 7.000000), (7.000000, -10.000000, -7.000000)],
],np.float32)

# pts = np.array([ (380, 310)], np.float32)

for pt in pts:
        image1 = cv2.circle(image, pt.astype(np.int32), 2, (0,0,255), -1)
cv2.imshow('image', image1)
cv2.waitKey(20000)


fig = plt.figure()
ax = plt.axes(projection='3d')

X = world_pts[:,:,0].flatten()
Y = world_pts[:,:,1].flatten()
Z = world_pts[:,:,2].flatten()
ax = plt.axes(projection='3d')
ax.scatter3D(X, Y, Z)
plt.show()
