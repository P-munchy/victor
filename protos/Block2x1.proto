#A 2x1 block prototype
PROTO Block2x1 [
  field SFString name "Block000"
  field SFVec3f translation 0 0.03 0
  field SFRotation rotation 0 1 0 0
  field SFFloat density 500
  field SFColor blockColor 1 0 0

  field MFString facemarker1 "textures/code1x1.png"
  field MFString facemarker2 "textures/code1x1.png"
  field MFString facemarker3 "textures/code1x1.png"
  field MFString facemarker4 "textures/code1x1.png"
  field MFString facemarker5 "textures/code1x1.png"
  field MFString facemarker6 "textures/code1x1.png"
  
  # Observation
  field SFColor obsColor 1 1 0
  field SFFloat obsTransparency 1.0 # initially invisible
  field SFVec3f obsTranslation 0 0 0
  field SFRotation obsRotation 0 1 0 0 
]
{
Robot {
  name IS name
  translation IS translation
  rotation IS rotation
  contactMaterial "cmat_block"
  children [
    DEF Block1x1Texture Transform {
      children [
        Connector {
          translation 0 0 0.03
          rotation 0 1 0 0
          model "magnetic"
          type "passive"
          autoLock TRUE
        }
        Connector {
          translation 0 0 -0.03
          rotation 0 1 0 3.14159
          model "magnetic"
          type "passive"
          autoLock TRUE
        }
        
        Connector {
          translation 0.06 0 0
          rotation 0 1 0 1.57079
          model "magnetic"
          type "passive"
          autoLock TRUE
        }
        Connector {
          translation -0.06 0 0
          rotation 0 1 0 -1.57079
          model "magnetic"
          type "passive"
          autoLock TRUE
        }
        
        Connector {
          translation 0 0.03 0
          rotation 1 0 0 -1.57079
          model "magnetic"
          type "passive"
          autoLock TRUE
        }
        Connector {
          translation 0 -0.03 0
          rotation 1 0 0 1.57079
          model "magnetic"
          type "passive"
          autoLock TRUE
        }
        
        # Face 1: (Matlab "Front")
        Transform {
          translation -0.03 0 0
          children [

            Shape {
	  
              appearance Appearance {
                texture ImageTexture {
                  url IS facemarker1
                }
              }
              geometry Box {
                size 0.0605 0.038 0.038
              }
            }
          ] 
        }
        
        # Face 2: (Matlab "Back")
        Transform {
          translation 0.03 0 0
          children [

            Shape {
	  
              appearance Appearance {
                texture ImageTexture {
                  url IS facemarker2
                }
              }
              geometry Box {
                size 0.0605 0.038 0.038
              }
            }
          ] 
        }
        
        # Face 3: (Matlab "Top")
        Transform {
          translation 0 0.015 0
          children [

            Shape {
	  
              appearance Appearance {
                texture ImageTexture {
                  url IS facemarker3
                }
              }
              geometry Box {
                size 0.038 0.0305 0.038
              }
            }
          ] 
        }
        
       # Face 4: (Matlab "Bottom")
       Transform {
          translation 0 -0.015 0
          children [

            Shape {
	  
              appearance Appearance {
                texture ImageTexture {
                  url IS facemarker4
                }
              }
              geometry Box {
                size 0.038 0.0305 0.038
              }
            }
          ] 
        }

        # Face 5: (Matlab "left")
        Transform {
          translation 0 0 -0.015
          children [

            Shape {
	  
              appearance Appearance {
                texture ImageTexture {
                  url IS facemarker5
                }
              }
              geometry Box {
                size 0.038 0.038 0.0305 
              }
            }
          ] 
        }
        
        # Face 6: (Matlab "right")
        Transform {
          translation 0 0 0.015
          children [

            Shape {
	  
              appearance Appearance {
                texture ImageTexture {
                  url IS facemarker6
                }
              }
              geometry Box {
                size 0.038 0.038 0.0305
              }
            }
          ] 
        }
        
      ]
    }
    DEF Block2x1Shape Shape {
      appearance Appearance {
        material Material {
          diffuseColor IS blockColor
        }
      }
      geometry Box {
        size 0.12 0.06 0.06
      }
    }
    
    
    DEF Observation Solid {
      name "Observation"
      translation IS obsTranslation
      rotation IS obsRotation
      children [
        Shape {
          appearance Appearance {
            material Material {
              emissiveColor IS obsColor
              transparency IS obsTransparency
            }
          }
          geometry IndexedLineSet {
            coord Coordinate {
              point [
                -0.0605 -0.0305 -0.0305
                 0.0605 -0.0305 -0.0305
                -0.0605  0.0305 -0.0305
                 0.0605  0.0305 -0.0305
                -0.0605 -0.0305  0.0305
                 0.0605 -0.0305  0.0305
                -0.0605  0.0305  0.0305
                 0.0605  0.0305  0.0305
              ]
            }
            coordIndex [
              0 1 3 2 0 -1 4 5 7 6 4 -1 
              0 4 -1 1 5 -1 2 6 -1 3 7 -1
            ]
          }
        }
      ] # Observation Children
    } # Observation

  ] # Block Children
  
  boundingObject USE Block2x1Shape
  physics DEF Block2x1Physics Physics {
    density IS density
  }
} # "Robot" (the actual block)

  
} # PROTO