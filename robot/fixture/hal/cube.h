#ifndef __CUBE_H
#define __CUBE_H

enum CUBE_PROGRAM_ERROR {
  CUBE_ERROR_NONE,
  CUBE_ERROR_CANNOT_WRITE,
  CUBE_ERROR_NO_COMMUNICATION,
  CUBE_ERROR_VERIFY_FAILED,
  CUBE_ERROR_BLOCK_FAILED,
  CUBE_ERROR_ROM_OVERSIZE
};

enum CUBE_FSR_FLAGS {
  CUBE_FSR_ENDEBUG = 0x80,
  CUBE_FSR_STP = 0x40,
  CUBE_FSR_WEN = 0x20,
  CUBE_FSR_RDYN = 0x10,
  CUBE_FSR_INFEN = 0x08,
  CUBE_FSR_RDISMB = 0x04
};

enum CUBE_COMMANDS {
  CUBE_WREN = 0x06,
  CUBE_WRDIS = 0x04,
  CUBE_RDSR = 0x05,
  CUBE_WRSR = 0x01,
  CUBE_READ = 0x03,
  CUBE_PROGRAM = 0x02,
  CUBE_ERASE_PAGE = 0x52,
  CUBE_ERASE_ALL = 0x62,
  CUBE_RDFPCR = 0x89,
  CUBE_RDISMB = 0x85,
  CUBE_ENDEBUG = 0x86,

  CUBE_DUMMY = 0x00
};

static const int CUBE_PAGE_SIZE = 512;
static const int CUBE_MAX_PROGRAM_SIZE = 18432;

void InitCube(void);
CUBE_PROGRAM_ERROR ProgramCube(void);

#endif
