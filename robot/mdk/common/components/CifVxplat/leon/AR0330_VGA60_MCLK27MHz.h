///
/// @file
/// @copyright All code copyright Movidius Ltd 2012, all rights reserved
///            For License Warranty see: common/license.txt
///
/// @brief
///
///Configuration file for Aptina AR0330
//# 852x480p @ 60fps 12bit Parallel

const unsigned short APT_AR0330_cfg_VGA60[][2] = 
{
		//Reset
		{0x301A, 0x0059}, // Reset, Disable Streaming
		{0x31AE, 0x0301}, // Output Interface Configured to Parallel
		{0x301A, 0x00D8}, // Drive Pins,Parallel Enable,SMIA Serializer Disable
		{0x3064, 0x1802}, // Disable Embedded Data

		//Sequencer
		{0x3088, 0x8000},
		{0x3086, 0x4A03},
		{0x3086, 0x4316},
		{0x3086, 0x0443},
		{0x3086, 0x1645},
		{0x3086, 0x4045},
		{0x3086, 0x6017},
		{0x3086, 0x2045},
		{0x3086, 0x404B},
		{0x3086, 0x1244},
		{0x3086, 0x6134},
		{0x3086, 0x4A31},
		{0x3086, 0x4342},
		{0x3086, 0x4560},
		{0x3086, 0x2714},
		{0x3086, 0x3DFF},
		{0x3086, 0x3DFF},
		{0x3086, 0x3DEA},
		{0x3086, 0x2704},
		{0x3086, 0x3D10},
		{0x3086, 0x2705},
		{0x3086, 0x3D10},
		{0x3086, 0x2715},
		{0x3086, 0x3527},
		{0x3086, 0x053D},
		{0x3086, 0x1045},
		{0x3086, 0x4027},
		{0x3086, 0x0427},
		{0x3086, 0x143D},
		{0x3086, 0xFF3D},
		{0x3086, 0xFF3D},
		{0x3086, 0xEA62},
		{0x3086, 0x2728},
		{0x3086, 0x3627},
		{0x3086, 0x083D},
		{0x3086, 0x6444},
		{0x3086, 0x2C2C},
		{0x3086, 0x2C2C},
		{0x3086, 0x4B01},
		{0x3086, 0x432D},
		{0x3086, 0x4643},
		{0x3086, 0x1647},
		{0x3086, 0x435F},
		{0x3086, 0x4F50},
		{0x3086, 0x2604},
		{0x3086, 0x2684},
		{0x3086, 0x2027},
		{0x3086, 0xFC53},
		{0x3086, 0x0D5C},
		{0x3086, 0x0D57},
		{0x3086, 0x5417},
		{0x3086, 0x0955},
		{0x3086, 0x5649},
		{0x3086, 0x5307},
		{0x3086, 0x5302},
		{0x3086, 0x4D28},
		{0x3086, 0x6C4C},
		{0x3086, 0x0928},
		{0x3086, 0x2C28},
		{0x3086, 0x294E},
		{0x3086, 0x5C09},
		{0x3086, 0x6045},
		{0x3086, 0x0045},
		{0x3086, 0x8026},
		{0x3086, 0xA627},
		{0x3086, 0xF817},
		{0x3086, 0x0227},
		{0x3086, 0xFA5C},
		{0x3086, 0x0B17},
		{0x3086, 0x1826},
		{0x3086, 0xA25C},
		{0x3086, 0x0317},
		{0x3086, 0x4427},
		{0x3086, 0xF25F},
		{0x3086, 0x2809},
		{0x3086, 0x1714},
		{0x3086, 0x2808},
		{0x3086, 0x1701},
		{0x3086, 0x4D1A},
		{0x3086, 0x2683},
		{0x3086, 0x1701},
		{0x3086, 0x27FA},
		{0x3086, 0x45A0},
		{0x3086, 0x1707},
		{0x3086, 0x27FB},
		{0x3086, 0x1729},
		{0x3086, 0x4580},
		{0x3086, 0x1708},
		{0x3086, 0x27FA},
		{0x3086, 0x1728},
		{0x3086, 0x5D17},
		{0x3086, 0x0E26},
		{0x3086, 0x8153},
		{0x3086, 0x0117},
		{0x3086, 0xE653},
		{0x3086, 0x0217},
		{0x3086, 0x1026},
		{0x3086, 0x8326},
		{0x3086, 0x8248},
		{0x3086, 0x4D4E},
		{0x3086, 0x2809},
		{0x3086, 0x4C0B},
		{0x3086, 0x6017},
		{0x3086, 0x2027},
		{0x3086, 0xF217},
		{0x3086, 0x535F},
		{0x3086, 0x2808},
		{0x3086, 0x164D},
		{0x3086, 0x1A17},
		{0x3086, 0x0127},
		{0x3086, 0xFA26},
		{0x3086, 0x035C},
		{0x3086, 0x0145},
		{0x3086, 0x4027},
		{0x3086, 0x9817},
		{0x3086, 0x2A4A},
		{0x3086, 0x0A43},
		{0x3086, 0x160B},
		{0x3086, 0x4327},
		{0x3086, 0x9C45},
		{0x3086, 0x6017},
		{0x3086, 0x0727},
		{0x3086, 0x9D17},
		{0x3086, 0x2545},
		{0x3086, 0x4017},
		{0x3086, 0x0827},
		{0x3086, 0x985D},
		{0x3086, 0x2645},
		{0x3086, 0x4B17},
		{0x3086, 0x0A28},
		{0x3086, 0x0853},
		{0x3086, 0x0D52},
		{0x3086, 0x5112},
		{0x3086, 0x4460},
		{0x3086, 0x184A},
		{0x3086, 0x0343},
		{0x3086, 0x1604},
		{0x3086, 0x4316},
		{0x3086, 0x5843},
		{0x3086, 0x1659},
		{0x3086, 0x4316},
		{0x3086, 0x5A43},
		{0x3086, 0x165B},
		{0x3086, 0x4327},
		{0x3086, 0x9C45},
		{0x3086, 0x6017},
		{0x3086, 0x0727},
		{0x3086, 0x9D17},
		{0x3086, 0x2545},
		{0x3086, 0x4017},
		{0x3086, 0x1027},
		{0x3086, 0x9817},
		{0x3086, 0x2022},
		{0x3086, 0x4B12},
		{0x3086, 0x442C},
		{0x3086, 0x2C2C},
		{0x3086, 0x2C00},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		{0x3086, 0x0000},
		
		//PLL Config - Assuming Input Clock of 27MHz.
		{0x302A, 0x0006}, //VT_PIX_CLK_DIV
		{0x302C, 0x0001}, //VT_SYS_CLK_DIV
		{0x302E, 0x0002}, //PRE_PLL_CLK_DIV
		{0x3030, 0x0031}, //PLL_MULTIPLIER	
		{0x3036, 0x000C}, //OP_PIX_CLK_DIV
		{0x3038, 0x0001}, //OP_SYS_CLK_DIV

		//Array readout settings
		{0x3002, 0x0125}, //y_addr_start
		{0x3004, 0x0130}, //x_addr_start
		{0x3006, 0x04E6}, //y_addr_end
		{0x3008, 0x07DB}, //x_addr_end
		
		//Frame-timing
		{0x300A, 0x01F8}, //frame_length_lines
		{0x300C, 0x04DA}, //line_length_pck
		
		//Sub-sampling
		{0x30A2, 0x0003}, //x_odd_inc
		{0x30A6, 0x0003}, //y_odd_inc
		{0x3040, 0x1200}, //Row Bin3 off, Column SF Bin
		
		{0x3014, 0x0000}, //Fine integration time
		{0x3012, 0x01E3}, //Coarse integration time
		{0x3060, 0x0016}, //Analog gain: Coarse Gain[5:4] - Fine Gain [3:0]
		{0x305E, 0x0128}, //Digtal Gain
		
		{0x3042, 0x0112}, //Extra Delay
		{0x30BA, 0x002C}, //Digital_Ctrl_Adc_High_Speed
		
		{0x306E, 0xFC10}, //Max Slew on Pixel Clock, Max Slew on Data Interface
		{0x3088, 0x80BA},
		{0x3086, 0x0253},
		
		//Start Streaming
		{0x301A, 0x00DC}, // Enable Streaming
};

CamSpec camSpecVGA60 = {
    {
            .height      = 480,
            .width       = 852,
            .hBackP      = 0,
            .hFrontP     = 0,
            .vBackP      = 0,
            .vFrontP     = 0
    },
    .idealRefFreq        = 27,
    .cfgDelay            = 400000,
    .sensorI2CAddress    = 0x18,
    .regNumber           = sizeof(APT_AR0330_cfg_VGA60)/(sizeof(unsigned short[2])),
    .regSize             = 2,
    .regValues           = APT_AR0330_cfg_VGA60
}; 
