//==============================================================================
//Quantization (and other factors) table for DCT   (the qfactor = 84, TBD: reduce to [40:50]
//==============================================================================

float fdtbl_Y[64];
float fdtbl_Cb[64];
float IDCT_Yfactors[64];
float IDCT_Cfactors[64];

float Q_L[8][8]; //Quantization table for LUMA
float Q_C[8][8]; //Quantization table for CHROMA
int   Q_level;


//===================
// The zig-zag table 
//===================

const unsigned char zigzag[] = {
   0,  1,  5,  6, 14, 15, 27, 28,  2,  4,  7, 13, 16, 26, 29, 42, //  0
   3,  8, 12, 17, 25, 30, 41, 43,  9, 11, 18, 24, 31, 40, 44, 53, // 16
  10, 19, 23, 32, 39, 45, 52, 54, 20, 22, 33, 38, 46, 51, 55, 60, // 32
  21, 34, 37, 47, 50, 56, 59, 61, 35, 36, 48, 49, 57, 58, 62, 63  // 48
};

//====================================================================
// Quantization table for LUMA when q_level = 50 (itu-81.pdf pg. 147)
//====================================================================
float Q50_luma[8][8] = 
 {
   {16, 11, 10, 16, 24,  40,  51,  61},
   {12, 12, 14, 19, 26,  58,  60,  55},
   {14, 13, 16, 24, 40,  57,  69,  56},
   {14, 17, 22, 29, 51,  87,  80,  62},
   {18, 22, 37, 56, 68,  109, 103, 77},
   {24, 35, 55, 64, 81,  104, 113, 92},
   {49, 64, 78, 87, 103, 121, 120, 101},
   {72, 92, 95, 98, 112, 100, 103, 99}
 };


//=====================================================================
// Quantization table for CHROMA when q_level = 50 (itu-81.pdf pg. 147)
//=====================================================================
float Q50_chroma[8][8] = 
 {
   {17, 18, 24, 47,  99, 99, 99, 99},
   {18, 21, 26, 66,  99, 99, 99, 99},
   {24, 26, 56, 99,  99, 99, 99, 99},
   {47, 66, 99, 99,  99, 99, 99, 99},
   {99, 99, 99, 99,  99, 99, 99, 99},
   {99, 99, 99, 99,  99, 99, 99, 99},
   {99, 99, 99, 99,  99, 99, 99, 99},
   {99, 99, 99, 99,  99, 99, 99, 99}
 };

#define N 8
float CT_COEFS[8][8] = 
{
	{16384, 22725, 21407, 19266, 16384, 12873,  8867,  4520},
	{22725, 31521, 29692, 26722, 22725, 17855, 12299,  6270},
	{21407, 29692, 27969, 25172, 21407, 16819, 11585,  5906},
	{19266, 26722, 25172, 22654, 19266, 15137, 10426,  5315},
	{16384, 22725, 21407, 19266, 16384, 12873,  8867,  4520},
	{12873, 17855, 16819, 15137, 12873, 10114,  6967,  3552},
	{8867, 12299, 11585, 10426,  8867,  6967,  4799,  2446},
	{4520,  6270,  5906,  5315,  4520,  3552,  2446,  1247}
};

