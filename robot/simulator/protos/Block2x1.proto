#VRML_SIM V7.3.0 utf8

PROTO Block2x1 [
  field SFString name "Block000"
  field SFVec3f translation 0 0 0.022
  field SFRotation rotation 0 0 1 0
  field SFFloat density 500
  field SFColor blockColor 1 0 0

  field MFString facemarkerFront  "textures/code1x1.png"
  field MFString facemarkerBack   "textures/code1x1.png"
  field MFString facemarkerLeft   "textures/code1x1.png"
  field MFString facemarkerRight  "textures/code1x1.png"
  field MFString facemarkerTop    "textures/code1x1.png"
  field MFString facemarkerBottom "textures/code1x1.png"
  
  # Observation
  #field SFColor obsColor 1 1 0
  #field SFFloat obsTransparency 1.0 # initially invisible
  #field SFVec3f obsTranslation 0 0 0
  #field SFRotation obsRotation 0 0 1 0 
]
{
Robot {
  name IS name
  translation IS translation
  rotation IS rotation
  contactMaterial "cmat_block"
  children [
    DEF Block1x1Texture Transform {
      children [
        Connector {
          translation 0 0 0.022
          rotation 0 1 0 0
          model "magnetic"
          type "passive"
          autoLock TRUE
        }
        Connector {
          translation 0 0 -0.022
          rotation 0 1 0 3.14159
          model "magnetic"
          type "passive"
          autoLock TRUE
        }
        
        Connector {
          translation 0.044 0 0
          rotation 0 1 0 1.57079
          model "magnetic"
          type "passive"
          autoLock TRUE
        }
        Connector {
          translation -0.044 0 0
          rotation 0 1 0 -1.57079
          model "magnetic"
          type "passive"
          autoLock TRUE
        }
        
        Connector {
          translation 0 0.022 0
          rotation 1 0 0 -1.57079
          model "magnetic"
          type "passive"
          autoLock TRUE
        }
        Connector {
          translation 0 -0.022 0
          rotation 1 0 0 1.57079
          model "magnetic"
          type "passive"
          autoLock TRUE
        }
        
        # Front Face
        Transform {
          translation -0.022 0 0
          children [

            Shape {
	  
              appearance Appearance {
                texture ImageTexture {
                  url IS facemarkerFront
                }
              }
              geometry DEF SMALL_FACE_BOX Box {
                size 0.0445 0.0295 0.0295
              }
            }
          ] 
        }
        
        # Back Face
        Transform {
          translation 0.022 0 0
          children [

            Shape {
	  
              appearance Appearance {
                texture ImageTexture {
                  url IS facemarkerBack
                }
              }
              geometry USE SMALL_FACE_BOX
            }
          ] 
        }
        
        # Left Face
        Transform {
          translation 0 0.011 0
          children [

            Shape {
	  
              appearance Appearance {
                texture ImageTexture {
                  url IS facemarkerLeft
                }
              }
              geometry DEF LARGE_FACE_BOX Box {
                size 0.0295 0.0225 0.0295
              }
            }
          ] 
        }
        
       # Right Face
       Transform {
          rotation 1 0 0 3.1415
          translation 0 -0.011 0
          children [

            Shape {
	  
              appearance Appearance {
                texture ImageTexture {
                  url IS facemarkerRight
                }
              }
              geometry USE LARGE_FACE_BOX
            }
          ] 
        }

        # Bottom Face
        Transform {
          rotation 1 0 0 -1.5708
          translation 0 0 -0.011
          children [

            Shape {
	  
              appearance Appearance {
                texture ImageTexture {
                  url IS facemarkerBottom
                }
              }
              geometry USE LARGE_FACE_BOX
            }
          ] 
        }
        
        # Top Face
        Transform {
          rotation 1 0 0 1.5708
          translation 0 0 0.011
          children [

            Shape {
	  
              appearance Appearance {
                texture ImageTexture {
                  url IS facemarkerTop
                }
              }
              geometry USE LARGE_FACE_BOX
            }
          ] 
        }
        
      ]
    }
    DEF Block2x1Shape Shape {
      appearance Appearance {
        material Material {
          diffuseColor IS blockColor
        }
      }
      geometry Box {
        size 0.088 0.044 0.044
      }
    }
   
  ] # Block Children
  
  boundingObject USE Block2x1Shape
  physics DEF Block2x1Physics Physics {
    density IS density
  }
} # "Robot" (the actual block)

  
} # PROTO