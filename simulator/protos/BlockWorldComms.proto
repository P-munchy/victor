PROTO BlockWorldComms [
  field SFString name "BlockWorldComms"
  
  field SFInt32 numUIDevicesToWaitFor 1

  field SFBool filterLogs FALSE
  field SFBool colorizeStderrOutput FALSE

  # When true this inserts sleeps such that the engine tic
  # runs no faster than 60ms. Should only be true for worlds
  # that connect to a physical robot.
  # Make sure that the basicTimeStep in the world is set to the
  # engine tic period of 60ms. Otherwise, it's likely to always run
  # longer sometimes a lot longer than 60ms.
  field SFBool sleepUntilEndOfTic FALSE
]
{
Supervisor {
  name IS name
  controller "webotsCtrlGameEngine"

  # append optional command line parameters
  %{ ctrlArgs="" }%
  %{ if fields.filterLogs.value then }%
    %{ ctrlArgs = ctrlArgs .. " --applyLogFilter"}%
  %{ end }%
  %{ if fields.colorizeStderrOutput.value then }%
    %{ ctrlArgs = ctrlArgs .. " --colorizeStderrOutput"}%
  %{ end }%

  controllerArgs "%{=ctrlArgs}%"

  # Referencing a field that is used in code but not in the proto model
  # to suppress a Webots error message.
  %{if fields.numUIDevicesToWaitFor.value then end }%
} # Supervisor definition
} # PROTO definition