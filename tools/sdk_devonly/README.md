# Cozmo SDK

## Getting Started

The SDK needs the Python build of CLAD that match the build of the app 
that's running on your device.  Those files should be installed into 
`cozmo/_internal/clad`.

Start the USB Mux TCP relay before running an example using the `run-example.sh`
script.

## Requirements

The SDK needs Python 3.5 or later.  Running inside a virtualenv environment is
recommended to isolate the package dependencies for the SDK from other work.

On Mac:

* `brew install python3`
* `pip3 install virtualenv`
* `pip3 install virtualenvwrapper` (adds some useful commands)
* Add the following to your .bashrc if it's not already there:
    * `export VIRTUALENVWRAPPER_PYTHON=/usr/local/bin/python3`
    * `source /usr/local/bin/virtualenvwrapper.sh`
* Start a new shell
* `cd cozmo-one/tools/sdk.next` (or wherever you have the code checked out to)
* `mkvirtualenv sdk`
* `workon sdk` (use to switch to the new virtual env)
 
When working in the sdk virtualenv the `python` command will be linked to 
python3, pip installing packages will only affect that environment, etc.
 
## Running the examples

* `cd cozmo-one/tools/sdk.next`
* `workon sdk`
* `./run-example.sh examples/turn.py`

You can edit the run-example.sh script to uncomment the logging
lines if you'd like more verbose output.

## Coding Standards

Code should roughly comply with [PEP 8](https://www.python.org/dev/peps/pep-0008/).

All public classes, methods, functions and attributes must have a docstring
(except for auto-generated entries such as animation trigger attributes).

The documentation format currently follows the Google style guide.  For example:

```python
def fetch_bigtable_rows(big_table, keys, other_silly_variable=None):
    """Fetches rows from a Bigtable.

    Retrieves rows pertaining to the given keys from the Table instance
    represented by big_table.  Silly things may happen if
    other_silly_variable is not None.

    Args:
        big_table: An open Bigtable Table instance.
        keys: A sequence of strings representing the key of each table row
            to fetch.
        other_silly_variable: Another optional variable, that has a much
            longer name than the other args, and which does nothing.

    Returns:
        A dict mapping keys to the corresponding table row data
        fetched. Each row is represented as a tuple of strings. For
        example:

        {'Serak': ('Rigel VII', 'Preparer'),
         'Zim': ('Irk', 'Invader'),
         'Lrrr': ('Omicron Persei 8', 'Emperor')}

        If a key from the keys argument is missing from the dictionary,
        then that row was not found in the table.

    Raises:
        IOError: An error occurred accessing the bigtable.Table object.
    """
    pass
```

In addition, documentation can include cross-references to other classes,
methods, funcs, etc that Sphinx can extract:

* Modules - ``:mod:`cozmo.robot` ``
* Exceptions - ``:mod:`cozmo.RobotBusy` ``
* Classes - ``:class:`cozmo.robot.Cozmo` ``
* Methods - ``:meth:`cozmo.robot.Cozmo` ``.
* Functions - ``:func:`cozmo.connect` ``.
* Attributes - ``:attr:`cozmo.robot.Cozmo.world` ``

The cross-referenced name can be left unqualified if it references a name
in the current module.

The name can be prefixed with ~ to only display the final component.

See http://www.sphinx-doc.org/en/stable/domains.html for full details.


## Building The Docs

The docs are currently auto-generated by [Sphinx](http://www.sphinx-doc.org/).

```bash
pip install Sphinx sphinx-rtd-theme
cd docs
make html
open buid/html/index.html
```


